<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cold War Square Strategy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="padding-bottom: 180px;">
    <h1>Cold War Square Strategy (WIP)</h1>
    <div id="turnIndicator" style="
        font-family: sans-serif;
        font-size: 16px;
        font-weight: bold;
        color: #333;
        margin: 5px;
    ">Current Turn: NATO</div>

    <div class="main-container">
        <div class="game-area">
            <div class="controls">
                <label for="colsInput">Cols:</label>
                <input type="number" id="colsInput" value="20" min="1" max="200">

                <label for="rowsInput">Rows:</label>
                <input type="number" id="rowsInput" value="15" min="1" max="200">

                <label for="sizeInput">Size:</label>
                <input type="number" id="sizeInput" value="40" min="10" max="100">

                <button id="redrawButton">Create Map</button>
                <button id="endTurnButton">End Turn</button>
            </div>

            <!-- Container for scrolling -->
            <div id="canvasContainer">
                <canvas id="gameCanvas"></canvas>
            </div>
        </div>

        <div id="infoPanel">
            <h2>Unit Information</h2>

            <!-- Unit Management Controls -->
            <div class="unit-controls">
                <label for="unitSelect">Add Unit:</label>
                <select id="unitSelect">
                    <option value="">-- Select Unit Type --</option>
                    <!-- Options will be populated by script.js -->
                </select>
                <!-- <button id="addUnitButton">Add Unit</button> REMOVED -->
                <button id="removeUnitButton">Remove Selected</button>
                <button id="loadUnitButton" style="display:none;">Load Unit</button>
                <button id="unloadUnitButton" style="display:none;">Unload Unit</button>
                 <i>(Select type, then click empty square to add)</i>
            </div>
            <hr>
            <!-- End Unit Management Controls -->

            <div class="info-content">
                <p><strong>Name:</strong> <span id="info-name">-</span></p>
                <p><strong>Class:</strong> <span id="info-class">-</span></p> <!-- Changed Type to Class -->
                <p><strong>Faction:</strong> <span id="info-faction">-</span></p>
                <p><strong>Health:</strong> <span id="info-health">-</span></p>
                <p><strong>Movement:</strong> <span id="info-movement">-</span></p>
                <p id="info-carried-unit-container" style="display: none;"><strong>Carrying:</strong> <span id="info-carried-unit">-</span></p> <!-- Added this line -->
                <hr>
                <p><strong>Stance:</strong> <span id="info-stance">Default</span></p>
                <div id="info-ammo" style="font-size: 0.9em; margin-top: 5px;">
                    <p><strong>Ammo:</strong> <span>-</span></p>
                    <!-- Ammo details will be populated here -->
                </div>
            </div>
             <p class="no-selection"><i>Click on a unit to see details.</i></p>

             <!-- Stance Selection -->
             <div id="stanceSelector" style="margin-top: 15px; border-top: 1px solid #ccc; padding-top: 10px;">
                 <strong>Stance:</strong>
                 <button class="stance-button" data-stance="Default">Default</button>
                 <button class="stance-button" data-stance="AntiArmor">Anti-Armor</button>
                 <button class="stance-button" data-stance="AntiInfantry">Anti-Infantry</button>
                 <!-- Add more stances as needed -->
                 <div id="stanceTooltip" style="font-size: 0.8em; color: #555; margin-top: 5px;"></div>
             </div>
             <!-- End Stance Selection -->
        </div>
    </div>

    <!-- Deployment Panel (Initially Hidden) -->
    <div id="deploymentPanel" style="
        display: none; /* Hidden by default */
        position: fixed;
        left: 10px;
        top: 100px; /* Adjust as needed */
        width: 250px;
        max-height: 70vh;
        background: #f0f0f0;
        border: 1px solid #ccc;
        padding: 10px;
        overflow-y: auto;
        z-index: 1000;
        font-family: sans-serif;
        font-size: 0.9em;
    ">
        <h2>Deployment</h2>
        <div id="deploymentList">
            <!-- Units/Groups will be listed here -->
        </div>
        <button id="startBattleButton" style="margin-top: 10px;">Start Battle</button>
    </div>
    <!-- End Deployment Panel -->

    <script type="module" src="js/main.js" defer></script>

    <div id="combatLog" style="
        position: fixed;
        bottom: 0;
        right: 0;
        width: 300px;
        height: 150px;
        background: #111;
        color: #0f0;
        font-family: monospace;
        font-size: 12px;
        overflow-y: auto;
        padding: 5px;
        border: 1px solid #444;
         z-index: 9999;
    "></div>

    <div style="text-align: center; margin-top: 20px; padding-bottom: 20px;">
        <a href="create_unit.html">Create Custom Unit</a> |
        <a href="create_weapon.html">Create Custom Weapon</a>
    </div>
</body>
</html>
